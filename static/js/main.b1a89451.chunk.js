(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{14:function(e,t,a){e.exports=a(30)},19:function(e,t,a){},20:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(11),l=a.n(r),i=(a(19),a(20),a(1)),s=function(){return c.a.createElement("div",{className:"flex flex-col mt-6 items-center space-y-4 text-gray-800 text-center"},c.a.createElement("h1",{className:"text-4xl font-light tracking-wider font-sans"},"The Gallery"),c.a.createElement("h1",{className:"text-xl font-thin"},"Image gallery, using React and Firebase"))},o=a(7),m=a.n(o),u=a(12),d=a(4);a(31),a(25);d.initializeApp({apiKey:"AIzaSyDF0EFBNuiAYc2_e53342j43xaoZEPFlPU",authDomain:"instagram-clone-538cb.firebaseapp.com",databaseURL:"https://instagram-clone-538cb.firebaseio.com",projectId:"instagram-clone-538cb",storageBucket:"instagram-clone-538cb.appspot.com",messagingSenderId:"999207305754",appId:"1:999207305754:web:b03ca766338fe85d8f07a3"});var f=d.storage(),g=d.firestore(),p=d.firestore.FieldValue.serverTimestamp,v=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(null),s=Object(i.a)(l,2),o=s[0],d=s[1],v=Object(n.useState)(null),h=Object(i.a)(v,2),b=h[0],E=h[1];return Object(n.useEffect)((function(){var t=f.ref(e.name),a=g.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){d(e)}),Object(u.a)(m.a.mark((function e(){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,c=p(),a.add({url:n,createdAt:c}),E(n);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:c,url:b,error:o}},h=a(2),b=function(e){var t=e.file,a=e.setFile,r=v(t),l=r.progress,i=r.url;return Object(n.useEffect)((function(){i&&a(null)}),[i,a]),c.a.createElement(h.a.div,{className:"bg-green-700 h-1 inline-block",initial:{width:0},animate:{width:l+"%"}})},E=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),s=Object(i.a)(l,2),o=s[0],m=s[1];return c.a.createElement("div",{className:"mt-10"},c.a.createElement("div",{className:"flex flex-col items-center space-y-2"},c.a.createElement("div",null,c.a.createElement("label",{className:"cursor-pointer"},c.a.createElement("div",{className:"flex items-center justify-center rounded-full border border-black p-2 transform transition-transform duration-150 hover:rotate-90"},c.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd"},c.a.createElement("path",{d:"M11 11v-11h1v11h11v1h-11v11h-1v-11h-11v-1h11z"}))),c.a.createElement("input",{type:"file",className:"hidden",onChange:function(e){var t=e.target.files[0];t&&["image/png","image/jpeg"].includes(t.type)?(r(t),m("")):(r(null),m("Only images of type png or jpeg are allowed."))}}))),c.a.createElement("div",null,o&&c.a.createElement("div",{className:"text-red-700"},o),a&&c.a.createElement("div",{className:"text-gray-800"},a.name))),a&&c.a.createElement(b,{file:a,setFile:r}))},w=a(13),y=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=g.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(w.a)({},e.data(),{id:e.id}))})),r(t)}));return function(){return t()}}),[e]),{docs:c}},j=function(e){var t=e.imageUrl,a=Object(n.useState)("loading"),r=Object(i.a)(a,2),l=r[0],s=r[1];return c.a.createElement("div",{className:"absolute h-full w-full"},c.a.createElement(h.a.img,{src:t,onLoad:function(){s("loaded")},onError:function(){s("error")},alt:"uploaded",className:"h-full w-full object-cover object-center",initial:{opacity:0},animate:"loaded"===l&&{opacity:1}}),"loading"===l&&c.a.createElement("div",{className:"absolute top-0 left-0 h-full w-full flex justify-center items-center bg-gray-600 opacity-25"},"loading"===l&&c.a.createElement("div",{className:"animate-spin"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M13.75 22c0 .966-.783 1.75-1.75 1.75s-1.75-.784-1.75-1.75.783-1.75 1.75-1.75 1.75.784 1.75 1.75zm-1.75-22c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 10.75c.689 0 1.249.561 1.249 1.25 0 .69-.56 1.25-1.249 1.25-.69 0-1.249-.559-1.249-1.25 0-.689.559-1.25 1.249-1.25zm-22 1.25c0 1.105.896 2 2 2s2-.895 2-2c0-1.104-.896-2-2-2s-2 .896-2 2zm19-8c.551 0 1 .449 1 1 0 .553-.449 1.002-1 1-.551 0-1-.447-1-.998 0-.553.449-1.002 1-1.002zm0 13.5c.828 0 1.5.672 1.5 1.5s-.672 1.501-1.502 1.5c-.826 0-1.498-.671-1.498-1.499 0-.829.672-1.501 1.5-1.501zm-14-14.5c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2zm0 14c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2z"})))))},x=function(e){var t=e.setSelectedImage,a=y("images").docs;return c.a.createElement("div",{className:"px-2 max-w-screen-lg my-12 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 mx-auto"},a&&a.map((function(e){return c.a.createElement(h.a.div,{key:e.id,className:"relative pb-1/1 cursor-pointer",onClick:function(){return t(e.url)},initial:{opacity:.8},whileHover:{opacity:1},layout:!0},c.a.createElement(j,{imageUrl:e.url}))})))},O=function(e){var t=e.selectedImage,a=e.setSelectedImage;return c.a.createElement(h.a.div,{className:"backdrop fixed top-0 left-0 h-full w-full bg-black bg-opacity-50 flex items-center justify-center",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},c.a.createElement(h.a.img,{src:t,alt:"enlarged pic",className:"bg-white border-2 border-white shadow-lg",style:{maxWidth:"60%",maxHeight:"85%"},initial:{y:"-100vh"},animate:{y:0}}))};var N=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",null,c.a.createElement(s,null),c.a.createElement(E,null),c.a.createElement(x,{setSelectedImage:r}),a&&c.a.createElement(O,{selectedImage:a,setSelectedImage:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.b1a89451.chunk.js.map